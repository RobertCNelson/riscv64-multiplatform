From 56b4d61603817245a9b774c298cebf885eb4d7a0 Mon Sep 17 00:00:00 2001
From: Emil Renner Berthing <kernel@esmil.dk>
Date: Mon, 21 Jun 2021 01:00:06 +0200
Subject: [PATCH 48/48] [Not for upstream] beaglev_defconfig: Enable NVDLA
 driver

Signed-off-by: Emil Renner Berthing <kernel@esmil.dk>
---
 README.md                            | 2 +-
 arch/riscv/configs/beaglev_defconfig | 1 +
 2 files changed, 2 insertions(+), 1 deletion(-)

diff --git a/README.md b/README.md
index 14bc06c4d576..920d185c6ef9 100644
--- a/README.md
+++ b/README.md
@@ -97,6 +97,7 @@ system. How to do that best is out of scope for this README though.
 - [x] Temperature sensor
 - [x] Ethernet, though a little flaky and `stmmac.chain_mode=1` needed on the cmdline
 - [x] Framebuffer, fbdev driver so not upstreamable
+- [x] NVDLA
 - [ ] Clock tree, statically set up by u-boot, WIP clock driver
 - [ ] Pinctrl/Pinmux, statically set up by u-boot
 - [ ] Watchdog
@@ -107,7 +108,6 @@ system. How to do that best is out of scope for this README though.
 - [ ] MIPI-CSI
 - [ ] Video Decode
 - [ ] Video Encode
-- [ ] NVDLA
 - [ ] NNE50
 - [ ] Vision DSP
 
diff --git a/arch/riscv/configs/beaglev_defconfig b/arch/riscv/configs/beaglev_defconfig
index c074dabbdb4d..e87745e739e6 100644
--- a/arch/riscv/configs/beaglev_defconfig
+++ b/arch/riscv/configs/beaglev_defconfig
@@ -160,6 +160,7 @@ CONFIG_DMABUF_HEAPS_SYSTEM=y
 # CONFIG_IOMMU_SUPPORT is not set
 CONFIG_PWM=y
 CONFIG_PWM_SIFIVE_PTC=y
+CONFIG_NVDLA=y
 CONFIG_EXT4_FS=y
 CONFIG_EXT4_FS_POSIX_ACL=y
 CONFIG_EXT4_FS_SECURITY=y
-- 
2.30.2

